/*! angular-ros 2014-07-06 */
var goalStatusNames=["PENDING","ACTIVE","PREEMPTED","SUCCEEDED","ABORTED","REJECTED","PREEMPTING","RECALLING","RECALLED","LOST"];ROSLIB.Goal.prototype.statusName=function(){return"undefined"==typeof this.status?goalStatusNames[0]:goalStatusNames[this.status.status]};var ngRos=angular.module("ros",[]),ngRos=angular.module("ros");ngRos.factory("rosConnection",["$rootScope",function(a){var b=new ROSLIB.Ros;b.connected=!1,b.on("error",function(a){console.log(a)}),b.on("connection",function(){a.$apply(function(){b.connected=!0}),console.log("Connectionp made!")});var c="ws://localhost:9090";return"undefined"!=typeof a.rosWebSocketAddress&&(c=a.rosWebSocketAddress),b.connect(c),b}]);var ngRos=angular.module("ros");ngRos.directive("serverName",function(){return{priority:450,compile:function(){return{pre:function(a,b,c){a.rosServerName=c.serverName}}}}}),ngRos.directive("actionName",function(){return{priority:450,compile:function(){return{pre:function(a,b,c){a.rosActionName=c.actionName}}}}});var ngRos=angular.module("ros");ngRos.directive("rosWs",["$rootScope",function(a){return{priority:450,compile:function(){return{pre:function(b,c,d){a.rosWebSocketAddress=d.rosWs}}}}}]);var ngRos=angular.module("ros");ngRos.controller("ActionClient",["$scope","rosConnection",function(a,b){a.newGoal={},a.goals=[],console.log(a.rosServerName),a.actionClient=new ROSLIB.ActionClient({ros:b,serverName:a.rosServerName,actionName:a.rosActionName}),a.sendGoal=function(){console.log("send"),console.log(a.newGoal),console.log(a.rosServerName),console.log(a.rosActionName);var b=new ROSLIB.Goal({actionClient:a.actionClient,goalMessage:a.newGoal});a.goals.unshift(b),a.newGoal=jQuery.extend(!0,{},a.newGoal),b.on("status",function(c){a.$apply(function(){b.lastStatus=c})}),b.on("feedback",function(c){a.$apply(function(){b.lastFeedback=c})}),b.on("result",function(c){a.$apply(function(){b.result=c})}),b.send()}}]);var ngRos=angular.module("ros");ngRos.controller("TopicListnerCtl",["$scope","rosConnection",function(a,b){a.listener=new ROSLIB.Topic({ros:b,name:a.rosTopic,messageType:a.rosMessageType}),a.messages=[],a.listener.subscribe(function(b){a.$apply(function(){a.messages.push(b),a.messages.length>10&&a.messages.unshift()})})}]),ngRos.controller("TopicPublisherCtl",["$scope","rosConnection",function(a,b){a.ros=b,a.publisher=new ROSLIB.Topic({ros:b,name:a.rosTopic,messageType:a.rosMessageType}),a.message={},a.sendMessage=function(b){"undefined"==typeof b&&(b={});var c=new ROSLIB.Message(jQuery.extend(b,a.message));a.publisher.publish(c)}}]);var ngRos=angular.module("ros");ngRos.directive("rosTopic",function(){return{priority:450,compile:function(){return{pre:function(a,b,c){a.rosTopic=c.rosTopic}}}}}),ngRos.directive("rosMessageType",function(){return{priority:450,compile:function(){return{pre:function(a,b,c){a.rosMessageType=c.rosMessageType}}}}});